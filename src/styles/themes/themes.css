/* src/styles/themes/themes.css */

/* This is the main engine that combines variables and applies theme logic. */

@import './_colors.css';
@import './_fonts.css';
@import './_sizes.css';
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Lora:ital,wght@0,400;0,700;1,400&family=Roboto+Mono&display=swap');

/* --- DEFAULT THEME DEFINITION (Light, Normal Contrast, Blue, Sans-Serif) --- */
:root {
    /* Abstract Color Variables */
    --color-background: var(--light-bg);
    --color-surface: var(--light-surface);
    --color-text-primary: var(--light-text-primary);
    --color-text-secondary: var(--light-text-secondary);
    --color-border: var(--light-border);
    --color-muted-bg: var(--light-muted-bg);
    /* NEW: A slightly stronger border color for hover states */
    --color-border-strong: #adb5bd;

    /* Abstract Accent Variables */
    --color-accent: var(--accent-blue);
    --color-accent-dark: var(--accent-blue-dark);
    --color-accent-light: var(--accent-blue-light);
    /* NEW: A dedicated text color for use on accent backgrounds */
    --color-accent-text: #ffffff;

    /* Universal Feedback Colors */
    --color-feedback-positive: var(--feedback-positive);
    --color-feedback-negative: var(--feedback-negative);
    /* NEW: A softer, background-oriented version of the negative feedback color */
    --color-feedback-negative-soft: #f8d7da;

    /* Abstract Font Variable */
    --font-family: var(--font-sans-serif);

    /* Abstract Shadow Variables */
    --shadow-card: 0 4px 12px rgba(0, 0, 0, 0.05);
    /* NEW: A stronger shadow for hover/active states */
    --shadow-hover: 0 8px 16px rgba(0, 0, 0, 0.1);
    /* NEW: A variable for the modal overlay effect */
    --shadow-overlay: rgba(0, 0, 0, 0.6);
}

/* --- THEME LOGIC --- */

/* 1. Dark Theme */
[data-theme='dark'] {
    --color-background: var(--dark-bg);
    --color-surface: var(--dark-surface);
    --color-text-primary: var(--dark-text-primary);
    --color-text-secondary: var(--dark-text-secondary);
    --color-border: var(--dark-border);
    --color-muted-bg: var(--dark-muted-bg);
    --color-border-strong: #6c757d;

    /* Accent text remains white, which is correct for dark themes */

    /* A different soft negative color for dark mode */
    --color-feedback-negative-soft: #2c1a1d;

    /* Shadows need to be more pronounced in dark mode */
    --shadow-card: 0 6px 16px rgba(0, 0, 0, 0.2);
    --shadow-hover: 0 10px 20px rgba(0, 0, 0, 0.25);
    --shadow-overlay: rgba(0, 0, 0, 0.7);
}

/* 2. High Contrast Theme */
[data-contrast='high'][data-theme='light'] {
    --color-background: var(--light-hc-bg);
    --color-surface: var(--light-hc-surface);
    --color-text-primary: var(--light-hc-text-primary);
    --color-text-secondary: var(--light-hc-text-secondary);
    --color-border: var(--light-hc-border);
    --color-muted-bg: var(--light-hc-bg);
    --color-border-strong: var(--light-hc-border);

    /* Text on accent buttons should be black for high contrast */
    --color-accent-text: #000000;

    --color-feedback-negative-soft: var(--light-hc-bg);

    /* Shadows are removed for high contrast for better readability */
    --shadow-card: none;
    --shadow-hover: none;
    --shadow-overlay: rgba(0, 0, 0, 0.9);
}

[data-contrast='high'][data-theme='dark'] {
    --color-background: var(--dark-hc-bg);
    --color-surface: var(--dark-hc-surface);
    --color-text-primary: var(--dark-hc-text-primary);
    --color-text-secondary: var(--dark-hc-text-secondary);
    --color-border: var(--dark-hc-border);
    --color-muted-bg: var(--dark-hc-bg);
    --color-border-strong: var(--dark-hc-border);

    /* Text on accent buttons should be white for high contrast dark */
    --color-accent-text: #ffffff;

    --color-feedback-negative-soft: var(--dark-hc-bg);

    /* Shadows are removed for high contrast */
    --shadow-card: none;
    --shadow-hover: none;
    --shadow-overlay: rgba(255, 255, 255, 0.8);
}

/* 3. Accent Color Logic */
[data-accent='purple'] {
    --color-accent: var(--accent-purple);
    --color-accent-dark: var(--accent-purple-dark);
    --color-accent-light: var(--accent-purple-light);
}
[data-accent='green'] {
    --color-accent: var(--accent-green);
    --color-accent-dark: var(--accent-green-dark);
    --color-accent-light: var(--accent-green-light);
}

/* 4. Font Family Logic */
[data-font='serif'] {
    --font-family: var(--font-serif);
}
[data-font='mono'] {
    --font-family: var(--font-mono);
}
